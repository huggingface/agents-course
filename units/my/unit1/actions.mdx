# လုပ်ဆောင်ချက်များ (Actions): Agent ကို ပတ်ဝန်းကျင်နှင့် ထိတွေ့စေခြင်း

> [!TIP]
> ဒီအပိုင်းမှာတော့ AI Agent တစ်ခုက သူ့ရဲ့ ပတ်ဝန်းကျင်နဲ့ ထိတွေ့ဆက်ဆံဖို့အတွက် ဘယ်လို **လက်တွေ့ကျတဲ့ အဆင့်တွေ** ကို လုပ်ဆောင်ရသလဲဆိုတာကို လေ့လာသွားပါမယ်။
>
> လုပ်ဆောင်ချက်တွေကို ဘယ်လို ဖော်ပြသလဲ (JSON သို့မဟုတ် Code ကို အသုံးပြုခြင်း)၊ **"ရပ်တန့်ပြီး စစ်ဆေးခြင်း" (Stop and Parse)** နည်းလမ်းရဲ့ အရေးပါပုံနဲ့ Agent အမျိုးအစားအမျိုးမျိုးကို မိတ်ဆက်ပေးသွားပါမယ်။

**လုပ်ဆောင်ချက်များ (Actions)** ဆိုတာဟာ **AI Agent တစ်ခုက သူ့ရဲ့ ပတ်ဝန်းကျင်နဲ့ ထိတွေ့ဆက်ဆံဖို့အတွက် လုပ်ဆောင်တဲ့ လက်တွေ့ကျတဲ့ အဆင့်တွေ** ပဲ ဖြစ်ပါတယ်။

ဒါဟာ အင်တာနက်မှာ အချက်အလက် ရှာဖွေတာပဲဖြစ်ဖြစ်၊ ရုပ်ပိုင်းဆိုင်ရာ ကိရိယာတစ်ခုကို ထိန်းချုပ်တာပဲဖြစ်ဖြစ်၊ လုပ်ဆောင်ချက်တိုင်းဟာ Agent က စနစ်တကျ လုပ်ဆောင်တဲ့ ရည်ရွယ်ချက်ရှိတဲ့ လုပ်ငန်းတစ်ခု ဖြစ်ပါတယ်။

ဥပမာအားဖြင့်၊ Customer Service မှာ ကူညီပေးနေတဲ့ Agent တစ်ခုဟာ Customer ရဲ့ ဒေတာတွေကို ပြန်ယူတာ၊ အကူအညီပေးမယ့် ဆောင်းပါးတွေကို ပေးပို့တာ၊ ဒါမှမဟုတ် ပြဿနာကို လူသားဝန်ထမ်းဆီ လွှဲပြောင်းပေးတာမျိုးတွေ လုပ်ဆောင်နိုင်ပါတယ်။

## Agent လုပ်ဆောင်ချက် အမျိုးအစားများ (Types of Agent Actions)

Agent အမျိုးအစားအမျိုးမျိုးရှိပြီး၊ ၎င်းတို့ လုပ်ဆောင်ချက်ယူပုံချင်း မတူညီကြပါဘူး။

| Agent အမျိုးအစား | ဖော်ပြချက် |
| :--- | :--- |
| **JSON Agent** | လုပ်ဆောင်ရမယ့် Action ကို JSON ပုံစံဖြင့် သတ်မှတ်ဖော်ပြသော Agent။ |
| **Code Agent** | Agent က ပြင်ပမှ စီမံဆောင်ရွက်မည့် Code Block တစ်ခုကို ရေးသားသော Agent။ |
| **Function-calling Agent** | JSON Agent ရဲ့ အမျိုးအစားခွဲတစ်ခုဖြစ်ပြီး၊ Action တစ်ခုစီအတွက် Message အသစ်တစ်ခု ထုတ်ပေးရန် Fine-tuning လုပ်ထားသော Agent။ |

လုပ်ဆောင်ချက်များ (Actions) ကိုယ်တိုင်ကလည်း ရည်ရွယ်ချက်အမျိုးမျိုးအတွက် အသုံးပြုနိုင်ပါတယ်။

| လုပ်ဆောင်ချက် အမျိုးအစား | ဖော်ပြချက် |
| :--- | :--- |
| **အချက်အလက် စုဆောင်းခြင်း** | ဝက်ဘ်ရှာဖွေမှုများ ပြုလုပ်ခြင်း၊ ဒေတာဘေ့စ်များမှ မေးမြန်းခြင်း သို့မဟုတ် Document များ ပြန်လည်ရယူခြင်း။ |
| **Tool အသုံးပြုခြင်း** | API ခေါ်ဆိုမှုများ ပြုလုပ်ခြင်း၊ တွက်ချက်မှုများ ပြုလုပ်ခြင်းနှင့် Code များ လုပ်ဆောင်ခြင်း။ |
| **ပတ်ဝန်းကျင်နှင့် ထိတွေ့ဆက်ဆံခြင်း** | Digital Interface များကို ကိုင်တွယ်ခြင်း သို့မဟုတ် ရုပ်ပိုင်းဆိုင်ရာ ကိရိယာများကို ထိန်းချုပ်ခြင်း။ |
| **ဆက်သွယ်ပြောဆိုခြင်း** | Chat မှတစ်ဆင့် အသုံးပြုသူများနှင့် ဆက်သွယ်ခြင်း သို့မဟုတ် အခြား Agent များနှင့် ပူးပေါင်းဆောင်ရွက်ခြင်း။ |

LLM (Large Language Model) သည် စာသားကိုသာ ကိုင်တွယ်နိုင်ပြီး၊ ၎င်းသည် လုပ်ဆောင်လိုသော Action နှင့် Tool သို့ ပေးပို့ရမည့် Parameter များကို ဖော်ပြရန် စာသားကို အသုံးပြုပါတယ်။ Agent တစ်ခု ကောင်းမွန်စွာ အလုပ်လုပ်နိုင်ဖို့အတွက်၊ LLM သည် Action တစ်ခုလုံးကို သတ်မှတ်သည့် Token များအားလုံး ထုတ်ပေးပြီးနောက် **Token အသစ်များ ထုတ်ပေးခြင်းကို ရပ်တန့်ရပါမယ်**။ ဤသို့ ရပ်တန့်ခြင်းက ထိန်းချုပ်မှုကို LLM မှ Agent သို့ ပြန်လည်ပေးအပ်ပြီး ရလဒ်ကို စစ်ဆေးအတည်ပြုနိုင်စေရန် (Parseable) သေချာစေပါတယ်။ (ရည်ရွယ်ထားသော ပုံစံသည် JSON၊ Code သို့မဟုတ် Function-calling ဖြစ်စေ)။

## ရပ်တန့်ပြီး စစ်ဆေးခြင်း နည်းလမ်း (The Stop and Parse Approach)

လုပ်ဆောင်ချက်များကို အကောင်အထည်ဖော်ရာတွင် အဓိကကျသော နည်းလမ်းတစ်ခုမှာ **ရပ်တန့်ပြီး စစ်ဆေးခြင်း (Stop and Parse Approach)** နည်းလမ်းပဲ ဖြစ်ပါတယ်။ ဒီနည်းလမ်းက Agent ရဲ့ ထွက်ရှိရလဒ်ကို စနစ်တကျနဲ့ ခန့်မှန်းနိုင်တဲ့ ပုံစံဖြစ်စေဖို့ သေချာစေပါတယ်။

**၁။ စနစ်တကျ ပုံစံဖြင့် ထုတ်ပေးခြင်း (Generation in a Structured Format):**

Agent သည် ၎င်းလုပ်ဆောင်လိုသော Action ကို ရှင်းလင်းပြီး ကြိုတင်သတ်မှတ်ထားသော ပုံစံ (JSON သို့မဟုတ် Code) ဖြင့် ထုတ်ပေးပါတယ်။

**၂။ ထပ်မံထုတ်ပေးခြင်းကို ရပ်တန့်ခြင်း (Halting Further Generation):**

Action ကို သတ်မှတ်သည့် စာသား ထုတ်ပေးပြီးသည်နှင့်၊ **LLM သည် နောက်ထပ် Token များ ထုတ်ပေးခြင်းကို ရပ်တန့်ပါတယ်**။ ဒါက ပိုလျှံနေတဲ့ သို့မဟုတ် မှားယွင်းတဲ့ ရလဒ်များ ထွက်ပေါ်လာခြင်းကို တားဆီးပေးပါတယ်။

**၃။ ရလဒ်ကို စစ်ဆေးခြင်း (Parsing the Output):**

ပြင်ပ Parser တစ်ခုက ပုံစံချထားသော Action ကို ဖတ်ရှုပြီး၊ မည်သည့် Tool ကို ခေါ်ဆိုရမည်ကို ဆုံးဖြတ်ကာ လိုအပ်သော Parameter များကို ထုတ်ယူပါတယ်။

ဥပမာအားဖြင့်၊ ရာသီဥတုကို စစ်ဆေးရန် လိုအပ်သော Agent တစ်ခုသည် အောက်ပါအတိုင်း ထုတ်ပေးနိုင်ပါတယ်။

```json
Thought: I need to check the current weather for New York.
Action :
{
  "action": "get_weather",
  "action_input": {"location": "New York"}
}
```
Framework သည် ခေါ်ဆိုရမည့် Function ၏ နာမည်နှင့် အသုံးပြုရမည့် Arguments များကို အလွယ်တကူ စစ်ဆေးအတည်ပြု (Parse) နိုင်ပါတယ်။

ဤရှင်းလင်းပြီး စက်ဖြင့် ဖတ်ရှုနိုင်သော ပုံစံသည် အမှားအယွင်းများကို လျှော့ချပေးပြီး၊ ပြင်ပ Tool များက Agent ၏ ညွှန်ကြားချက်ကို တိကျစွာ စီမံဆောင်ရွက်နိုင်စေပါတယ်။

**မှတ်ချက်:** Function-calling Agent များသည်လည်း အလားတူ လုပ်ဆောင်ပါတယ်။ ၎င်းတို့သည် သတ်မှတ်ထားသော Function တစ်ခုကို မှန်ကန်သော Arguments များဖြင့် ခေါ်ဆိုနိုင်ရန် Action တစ်ခုစီကို ပုံစံချပေးပါတယ်။ နောက်အခန်းများတွင် ထို Agent အမျိုးအစားများကို ပိုမိုနက်ရှိုင်းစွာ လေ့လာပါမယ်။

## Code Agent များ (Code Agents)

နောက်ထပ် နည်းလမ်းတစ်ခုကတော့ *Code Agent* များကို အသုံးပြုခြင်းပဲ ဖြစ်ပါတယ်။

ဒီ Idea ကတော့ **ရိုးရှင်းတဲ့ JSON Object တစ်ခု ထုတ်ပေးမယ့်အစား**၊ Code Agent က **လုပ်ဆောင်နိုင်တဲ့ Code Block တစ်ခုကို ထုတ်ပေးခြင်း** ဖြစ်ပါတယ်။ (အများအားဖြင့် Python လိုမျိုး High-level Language ဖြင့် ဖြစ်ပါတယ်)။

<img src="https://huggingface.co/datasets/agents-course/course-images/resolve/main/en/unit1/code-vs-json-actions.png" alt="Code Agents" />

ဒီနည်းလမ်းက အားသာချက်များစွာကို ပေးပါတယ်။

*   **ဖော်ပြနိုင်စွမ်း (Expressiveness):** Code သည် Loops, Conditionals နှင့် Nested Functions များအပါအဝင် ရှုပ်ထွေးသော Logic များကို သဘာဝအတိုင်း ဖော်ပြနိုင်ပြီး JSON ထက် ပိုမိုပြောင်းလွယ်ပြင်လွယ် ရှိပါတယ်။
*   **စနစ်တကျဖွဲ့စည်းမှုနှင့် ပြန်လည်အသုံးပြုနိုင်မှု (Modularity and Reusability):** ထုတ်ပေးလိုက်သော Code တွင် မတူညီသော Actions သို့မဟုတ် Tasks များတွင် ပြန်လည်အသုံးပြုနိုင်သော Functions နှင့် Modules များ ပါဝင်နိုင်ပါတယ်။
*   **Debug လုပ်ရလွယ်ကူခြင်း (Enhanced Debuggability):** ကောင်းမွန်စွာ သတ်မှတ်ထားသော Programming Syntax ကြောင့် Code အမှားများကို ရှာဖွေရန်နှင့် ပြင်ဆင်ရန် ပိုမိုလွယ်ကူပါတယ်။
*   **တိုက်ရိုက် ပေါင်းစပ်နိုင်မှု (Direct Integration):** Code Agent များသည် ပြင်ပ Libraries နှင့် API များနှင့် တိုက်ရိုက် ပေါင်းစပ်နိုင်ပြီး၊ ဒေတာ စီမံဆောင်ရွက်ခြင်း သို့မဟုတ် Real-time ဆုံးဖြတ်ချက်ချခြင်းကဲ့သို့သော ပိုမိုရှုပ်ထွေးသည့် လုပ်ငန်းများကို လုပ်ဆောင်နိုင်ပါတယ်။

LLM မှ ထုတ်ပေးသော Code ကို လုပ်ဆောင်ခြင်းသည် Prompt Injection မှသည် အန္တရာယ်ရှိသော Code များ လုပ်ဆောင်ခြင်းအထိ လုံခြုံရေးဆိုင်ရာ အန္တရာယ်များ ရှိနိုင်သည်ကို သတိပြုရပါမယ်။

ဒါကြောင့် `smolagents` ကဲ့သို့သော AI Agent Framework များကို အသုံးပြုရန် အကြံပြုထားပါတယ်။ ၎င်းတို့သည် မူရင်းအတိုင်း လုံခြုံရေး စောင့်ကြည့်မှုများကို ပေါင်းစပ်ထားပါတယ်။ အန္တရာယ်များနှင့် ၎င်းတို့ကို လျှော့ချနည်းများအကြောင်း ပိုမိုသိရှိလိုပါက [ဤသီးသန့်အပိုင်းကို လေ့လာကြည့်ရှုနိုင်ပါတယ်](https://huggingface.co/docs/smolagents/tutorials/secure_code_execution)။

ဥပမာအားဖြင့်၊ ရာသီဥတုကို ရှာဖွေရန် တာဝန်ပေးထားသော Code Agent တစ်ခုသည် အောက်ပါ Python Code Snippet ကို ထုတ်ပေးနိုင်ပါတယ်။

```python
# Code Agent Example: Retrieve Weather Information
def get_weather(city):
    import requests
    api_url = f"https://api.weather.com/v1/location/{city}?apiKey=YOUR_API_KEY"
    response = requests.get(api_url)
    if response.status_code == 200:
        data = response.json()
        return data.get("weather", "No weather information available")
    else:
        return "Error: Unable to fetch weather data."

# Execute the function and prepare the final answer
result = get_weather("New York")
final_answer = f"The current weather in New York is: {result}"
print(final_answer)
```

ဒီဥပမာမှာ Code Agent က -

*   **API ခေါ်ဆိုမှု** မှတစ်ဆင့် ရာသီဥတု ဒေတာကို ပြန်လည်ရယူခြင်း၊
*   ရလဒ်ကို စီမံဆောင်ရွက်ခြင်း၊
*   ပြီးနောက် `print()` Function ကို အသုံးပြုပြီး နောက်ဆုံးအဖြေကို ထုတ်ပေးခြင်းတို့ကို လုပ်ဆောင်ပါတယ်။

ဒီနည်းလမ်းသည်လည်း Code Block ကို ရှင်းရှင်းလင်းလင်း သတ်မှတ်ခြင်းနှင့် လုပ်ဆောင်ချက် ပြီးဆုံးကြောင်း အချက်ပြခြင်း (ဤနေရာတွင် `final_answer` ကို print ထုတ်ခြင်း) ဖြင့် **ရပ်တန့်ပြီး စစ်ဆေးခြင်း (Stop and Parse Approach)** နည်းလမ်းကို လိုက်နာပါတယ်။

---

ကျွန်တော်တို့ လေ့လာခဲ့ရတာကတော့ Actions တွေဟာ Agent ရဲ့ အတွင်းပိုင်း ဆင်ခြင်သုံးသပ်မှုနဲ့ ပြင်ပကမ္ဘာရဲ့ ထိတွေ့ဆက်ဆံမှုကြားက တံတားတစ်ခုဖြစ်ပြီး၊ JSON၊ Code သို့မဟုတ် Function Calls များမှတစ်ဆင့် ရှင်းလင်းပြီး စနစ်တကျ လုပ်ဆောင်ရတဲ့ Tasks တွေကို လုပ်ဆောင်ပေးတယ်ဆိုတာပါပဲ။

ဒီလို ရည်ရွယ်ချက်ရှိရှိ လုပ်ဆောင်ခြင်းက Action တိုင်းဟာ တိကျပြီး ပြင်ပ စီမံဆောင်ရွက်မှုအတွက် အသင့်ဖြစ်နေစေဖို့ **Stop and Parse Approach** မှတစ်ဆင့် သေချာစေပါတယ်။ နောက်အပိုင်းမှာတော့ Agent တွေက ပတ်ဝန်းကျင်ဆီက တုံ့ပြန်ချက်တွေကို ဘယ်လို ရယူပြီး ပေါင်းစပ်သလဲဆိုတာကို သိရှိနိုင်ဖို့ **Observations** တွေကို လေ့လာသွားပါမယ်။

ဒီနောက်မှာတော့ ကျွန်တော်တို့ **ပထမဆုံး Agent ကို တည်ဆောက်ဖို့ အသင့်ဖြစ်ပါပြီ!**