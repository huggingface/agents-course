# Táº¡o cÃ´ng cá»¥ RAG cho cÃ¡c cÃ¢u chuyá»‡n vá» khÃ¡ch má»i

Alfred, trá»£ lÃ½ Ä‘Ã¡ng tin cáº­y cá»§a báº¡n, Ä‘ang chuáº©n bá»‹ cho buá»•i tiá»‡c xa hoa nháº¥t tháº¿ ká»·. Äá»ƒ sá»± kiá»‡n diá»…n ra suÃ´n sáº», Alfred cáº§n truy cáº­p nhanh thÃ´ng tin cáº­p nháº­t vá» tá»«ng vá»‹ khÃ¡ch. HÃ£y giÃºp Alfred báº±ng cÃ¡ch táº¡o má»™t cÃ´ng cá»¥ Retrieval-Augmented Generation (RAG) tÃ¹y chá»‰nh, sá»­ dá»¥ng táº­p dá»¯ liá»‡u riÃªng cá»§a chÃºng ta.

## Táº¡i sao dÃ¹ng RAG cho tiá»‡c?

HÃ£y tÆ°á»Ÿng tÆ°á»£ng Alfred Ä‘ang giao lÆ°u giá»¯a cÃ¡c vá»‹ khÃ¡ch, cáº§n nhá»› láº¡i chi tiáº¿t cá»¥ thá»ƒ vá» tá»«ng ngÆ°á»i trong nhÃ¡y máº¯t. Má»™t LLM truyá»n thá»‘ng cÃ³ thá»ƒ gáº·p khÃ³ khÄƒn vÃ¬:

1. Danh sÃ¡ch khÃ¡ch cá»¥ thá»ƒ cho sá»± kiá»‡n cá»§a báº¡n vÃ  khÃ´ng cÃ³ trong dá»¯ liá»‡u huáº¥n luyá»‡n cá»§a model
2. ThÃ´ng tin khÃ¡ch cÃ³ thá»ƒ thay Ä‘á»•i hoáº·c Ä‘Æ°á»£c cáº­p nháº­t thÆ°á»ng xuyÃªn
3. Alfred cáº§n truy xuáº¥t chi tiáº¿t chÃ­nh xÃ¡c nhÆ° Ä‘á»‹a chá»‰ email

ÄÃ¢y lÃ  lÃºc Retrieval Augmented Generation (RAG) tá»a sÃ¡ng! Báº±ng cÃ¡ch káº¿t há»£p há»‡ thá»‘ng truy xuáº¥t vá»›i LLM, Alfred cÃ³ thá»ƒ truy cáº­p thÃ´ng tin chÃ­nh xÃ¡c, cáº­p nháº­t vá» khÃ¡ch cá»§a báº¡n theo yÃªu cáº§u.

<Tip>

Báº¡n cÃ³ thá»ƒ chá»n báº¥t ká»³ framework nÃ o Ä‘Æ°á»£c Ä‘á» cáº­p trong khÃ³a há»c cho trÆ°á»ng há»£p sá»­ dá»¥ng nÃ y. Chá»n tÃ¹y chá»n Æ°a thÃ­ch tá»« cÃ¡c tab mÃ£.

</Tip>

## Thiáº¿t láº­p á»©ng dá»¥ng

Trong chÆ°Æ¡ng nÃ y, chÃºng ta sáº½ phÃ¡t triá»ƒn agent trong má»™t HF Space, nhÆ° má»™t dá»± Ã¡n Python cÃ³ cáº¥u trÃºc. CÃ¡ch tiáº¿p cáº­n nÃ y giÃºp chÃºng ta duy trÃ¬ mÃ£ sáº¡ch, mÃ´-Ä‘un hÃ³a báº±ng cÃ¡ch tá»• chá»©c cÃ¡c chá»©c nÄƒng khÃ¡c nhau vÃ o cÃ¡c tá»‡p riÃªng biá»‡t. Äá»“ng thá»i, Ä‘iá»u nÃ y táº¡o ra trÆ°á»ng há»£p sá»­ dá»¥ng thá»±c táº¿ hÆ¡n khi báº¡n triá»ƒn khai á»©ng dá»¥ng cho má»¥c Ä‘Ã­ch cÃ´ng cá»™ng.

### Cáº¥u trÃºc dá»± Ã¡n

- **`tools.py`** â€“ Cung cáº¥p cÃ¡c cÃ´ng cá»¥ há»— trá»£ cho agent.  
- **`retriever.py`** â€“ Triá»ƒn khai cÃ¡c hÃ m truy xuáº¥t Ä‘á»ƒ há»— trá»£ truy cáº­p kiáº¿n thá»©c.  
- **`app.py`** â€“ TÃ­ch há»£p táº¥t cáº£ thÃ nh pháº§n thÃ nh má»™t agent hoáº¡t Ä‘á»™ng Ä‘áº§y Ä‘á»§, chÃºng ta sáº½ hoÃ n thiá»‡n á»Ÿ pháº§n cuá»‘i chÆ°Æ¡ng nÃ y.  

Äá»ƒ tham kháº£o thá»±c hÃ nh, hÃ£y xem [Space nÃ y trÃªn HF](https://huggingface.co/spaces/agents-course/Unit_3_Agentic_RAG), nÆ¡i Agentic RAG Ä‘Æ°á»£c phÃ¡t triá»ƒn trong chÆ°Æ¡ng nÃ y Ä‘ang hoáº¡t Ä‘á»™ng. HÃ£y thoáº£i mÃ¡i sao chÃ©p vÃ  thá»­ nghiá»‡m!

Báº¡n cÃ³ thá»ƒ kiá»ƒm tra trá»±c tiáº¿p agent bÃªn dÆ°á»›i:

<iframe
	src="https://agents-course-unit-3-agentic-rag.hf.space"
	frameborder="0"
	width="850"
	height="450"
></iframe>

## Tá»•ng quan táº­p dá»¯ liá»‡u

Táº­p dá»¯ liá»‡u [`agents-course/unit3-invitees`](https://huggingface.co/datasets/agents-course/unit3-invitees/) cá»§a chÃºng ta chá»©a cÃ¡c trÆ°á»ng sau cho má»—i khÃ¡ch má»i:

- **Name**: TÃªn Ä‘áº§y Ä‘á»§ cá»§a khÃ¡ch
- **Relation**: Má»‘i quan há»‡ cá»§a khÃ¡ch vá»›i chá»§ nhÃ 
- **Description**: Tiá»ƒu sá»­ ngáº¯n hoáº·c thÃ´ng tin thÃº vá»‹ vá» khÃ¡ch
- **Email Address**: ThÃ´ng tin liÃªn há»‡ Ä‘á»ƒ gá»­i lá»i má»i hoáº·c theo dÃµi

DÆ°á»›i Ä‘Ã¢y lÃ  báº£n xem trÆ°á»›c táº­p dá»¯ liá»‡u:
<iframe
  src="https://huggingface.co/datasets/agents-course/unit3-invitees/embed/viewer/default/train"
  frameborder="0"
  width="100%"
  height="560px"
></iframe>

<Tip>
Trong ká»‹ch báº£n thá»±c táº¿, táº­p dá»¯ liá»‡u nÃ y cÃ³ thá»ƒ má»Ÿ rá»™ng Ä‘á»ƒ bao gá»“m sá»Ÿ thÃ­ch Äƒn uá»‘ng, mÃ³n quÃ  quan tÃ¢m, chá»§ Ä‘á» trÃ² chuyá»‡n cáº§n trÃ¡nh vÃ  cÃ¡c chi tiáº¿t há»¯u Ã­ch khÃ¡c cho chá»§ nhÃ .
</Tip>

## XÃ¢y dá»±ng cÃ´ng cá»¥ sá»• khÃ¡ch

ChÃºng ta sáº½ táº¡o má»™t cÃ´ng cá»¥ tÃ¹y chá»‰nh Ä‘á»ƒ Alfred cÃ³ thá»ƒ sá»­ dá»¥ng truy xuáº¥t nhanh thÃ´ng tin khÃ¡ch trong buá»•i tiá»‡c. HÃ£y chia nhá» thÃ nh ba bÆ°á»›c quáº£n lÃ½ Ä‘Æ°á»£c:

1. Táº£i vÃ  chuáº©n bá»‹ táº­p dá»¯ liá»‡u
2. Táº¡o cÃ´ng cá»¥ truy xuáº¥t
3. TÃ­ch há»£p cÃ´ng cá»¥ vá»›i Alfred

Báº¯t Ä‘áº§u vá»›i viá»‡c táº£i vÃ  chuáº©n bá»‹ táº­p dá»¯ liá»‡u!

### BÆ°á»›c 1: Táº£i vÃ  chuáº©n bá»‹ táº­p dá»¯ liá»‡u

Äáº§u tiÃªn, ta cáº§n chuyá»ƒn Ä‘á»•i dá»¯ liá»‡u khÃ¡ch thÃ´ sang Ä‘á»‹nh dáº¡ng tá»‘i Æ°u cho truy xuáº¥t.

<hfoptions id="agents-frameworks">
<hfoption id="smolagents">

Ta sáº½ sá»­ dá»¥ng thÆ° viá»‡n `datasets` cá»§a Hugging Face Ä‘á»ƒ táº£i táº­p dá»¯ liá»‡u vÃ  chuyá»ƒn Ä‘á»•i thÃ nh danh sÃ¡ch Ä‘á»‘i tÆ°á»£ng `Document` tá»« mÃ´-Ä‘un `langchain.docstore.document`.

```python
import datasets
from langchain.docstore.document import Document

# Táº£i táº­p dá»¯ liá»‡u
guest_dataset = datasets.load_dataset("agents-course/unit3-invitees", split="train")

# Chuyá»ƒn Ä‘á»•i má»¥c dá»¯ liá»‡u thÃ nh Ä‘á»‘i tÆ°á»£ng Document
docs = [
    Document(
        page_content="\n".join([
            f"Name: {guest['name']}",
            f"Relation: {guest['relation']}",
            f"Description: {guest['description']}",
            f"Email: {guest['email']}"
        ]),
        metadata={"name": guest["name"]}
    )
    for guest in guest_dataset
]

```

</hfoption>
<hfoption id="llama-index">

Ta sáº½ sá»­ dá»¥ng thÆ° viá»‡n `datasets` cá»§a Hugging Face Ä‘á»ƒ táº£i táº­p dá»¯ liá»‡u vÃ  chuyá»ƒn Ä‘á»•i thÃ nh danh sÃ¡ch Ä‘á»‘i tÆ°á»£ng `Document` tá»« mÃ´-Ä‘un `llama_index.core.schema`.

```python
import datasets
from llama_index.core.schema import Document

# Táº£i táº­p dá»¯ liá»‡u
guest_dataset = datasets.load_dataset("agents-course/unit3-invitees", split="train")

# Chuyá»ƒn Ä‘á»•i má»¥c dá»¯ liá»‡u thÃ nh Ä‘á»‘i tÆ°á»£ng Document
docs = [
    Document(
        text="\n".join([
            f"Name: {guest_dataset['name'][i]}",
            f"Relation: {guest_dataset['relation'][i]}",
            f"Description: {guest_dataset['description'][i]}",
            f"Email: {guest_dataset['email'][i]}"
        ]),
        metadata={"name": guest_dataset['name'][i]}
    )
    for i in range(len(guest_dataset))
]
```

</hfoption>
<hfoption id="langgraph">

Ta sáº½ sá»­ dá»¥ng thÆ° viá»‡n `datasets` cá»§a Hugging Face Ä‘á»ƒ táº£i táº­p dá»¯ liá»‡u vÃ  chuyá»ƒn Ä‘á»•i thÃ nh danh sÃ¡ch Ä‘á»‘i tÆ°á»£ng `Document` tá»« mÃ´-Ä‘un `langchain.docstore.document`.

```python
import datasets
from langchain.docstore.document import Document

# Táº£i táº­p dá»¯ liá»‡u
guest_dataset = datasets.load_dataset("agents-course/unit3-invitees", split="train")

# Chuyá»ƒn Ä‘á»•i má»¥c dá»¯ liá»‡u thÃ nh Ä‘á»‘i tÆ°á»£ng Document
docs = [
    Document(
        page_content="\n".join([
            f"Name: {guest['name']}",
            f"Relation: {guest['relation']}",
            f"Description: {guest['description']}",
            f"Email: {guest['email']}"
        ]),
        metadata={"name": guest["name"]}
    )
    for guest in guest_dataset
]
```

</hfoption>
</hfoptions>

Trong Ä‘oáº¡n code trÃªn, ta:
- Táº£i táº­p dá»¯ liá»‡u
- Chuyá»ƒn Ä‘á»•i má»—i má»¥c khÃ¡ch thÃ nh Ä‘á»‘i tÆ°á»£ng `Document` vá»›i ná»™i dung Ä‘Æ°á»£c Ä‘á»‹nh dáº¡ng
- LÆ°u trá»¯ cÃ¡c Ä‘á»‘i tÆ°á»£ng `Document` trong danh sÃ¡ch

Äiá»u nÃ y cÃ³ nghÄ©a ta Ä‘Ã£ cÃ³ sáºµn táº¥t cáº£ dá»¯ liá»‡u Ä‘á»ƒ báº¯t Ä‘áº§u cáº¥u hÃ¬nh truy xuáº¥t.

### BÆ°á»›c 2: Táº¡o cÃ´ng cá»¥ truy xuáº¥t

Giá» hÃ£y táº¡o cÃ´ng cá»¥ tÃ¹y chá»‰nh Ä‘á»ƒ Alfred tÃ¬m kiáº¿m thÃ´ng tin khÃ¡ch.

<hfoptions id="agents-frameworks">
<hfoption id="smolagents">

Ta sáº½ sá»­ dá»¥ng `BM25Retriever` tá»« mÃ´-Ä‘un `langchain_community.retrievers` Ä‘á»ƒ táº¡o cÃ´ng cá»¥ truy xuáº¥t.

<Tip>
  <code>BM25Retriever</code> lÃ  Ä‘iá»ƒm khá»Ÿi Ä‘áº§u tá»‘t cho truy xuáº¥t, nhÆ°ng Ä‘á»ƒ tÃ¬m kiáº¿m ngá»¯ nghÄ©a nÃ¢ng cao, báº¡n cÃ³ thá»ƒ cÃ¢n nháº¯c sá»­ dá»¥ng bá»™ truy xuáº¥t dá»±a trÃªn embedding nhÆ° tá»« <a href="https://www.sbert.net/">sentence-transformers</a>.
</Tip>


```python
from smolagents import Tool
from langchain_community.retrievers import BM25Retriever

class GuestInfoRetrieverTool(Tool):
    name = "guest_info_retriever"
    description = "Retrieves detailed information about gala guests based on their name or relation."
    inputs = {
        "query": {
            "type": "string",
            "description": "The name or relation of the guest you want information about."
        }
    }
    output_type = "string"

    def __init__(self, docs):
        self.is_initialized = False
        self.retriever = BM25Retriever.from_documents(docs)

    def forward(self, query: str):
        results = self.retriever.get_relevant_documents(query)
        if results:
            return "\n\n".join([doc.page_content for doc in results[:3]])
        else:
            return "No matching guest information found."

# Initialize the tool
guest_info_tool = GuestInfoRetrieverTool(docs)
```

HÃ£y cÃ¹ng tÃ¬m hiá»ƒu cÃ´ng cá»¥ (tool) nÃ y tá»«ng bÆ°á»›c:
- `name` vÃ  `description` giÃºp Agent hiá»ƒu khi nÃ o vÃ  cÃ¡ch sá»­ dá»¥ng cÃ´ng cá»¥ nÃ y
- `inputs` Ä‘á»‹nh nghÄ©a cÃ¡c tham sá»‘ mÃ  cÃ´ng cá»¥ mong Ä‘á»£i (trong trÆ°á»ng há»£p nÃ y lÃ  má»™t truy váº¥n tÃ¬m kiáº¿m)
- ChÃºng ta Ä‘ang sá»­ dá»¥ng `BM25Retriever`, má»™t thuáº­t toÃ¡n truy xuáº¥t vÄƒn báº£n máº¡nh máº½ mÃ  khÃ´ng cáº§n embeddings
- PhÆ°Æ¡ng thá»©c `forward` xá»­ lÃ½ truy váº¥n vÃ  tráº£ vá» thÃ´ng tin khÃ¡ch má»i phÃ¹ há»£p nháº¥t

</hfoption>
<hfoption id="llama-index">
ChÃºng ta sáº½ sá»­ dá»¥ng `BM25Retriever` tá»« mÃ´-Ä‘un `llama_index.retrievers.bm25` Ä‘á»ƒ táº¡o cÃ´ng cá»¥ truy xuáº¥t.

<Tip>
  <code>BM25Retriever</code> lÃ  Ä‘iá»ƒm khá»Ÿi Ä‘áº§u tuyá»‡t vá»i cho truy xuáº¥t, nhÆ°ng Ä‘á»ƒ tÃ¬m kiáº¿m ngá»¯ nghÄ©a nÃ¢ng cao hÆ¡n, báº¡n cÃ³ thá»ƒ cÃ¢n nháº¯c sá»­ dá»¥ng bá»™ truy xuáº¥t dá»±a trÃªn embedding nhÆ° tá»« <a href="https://www.sbert.net/">sentence-transformers</a>.
</Tip>

```python
from llama_index.core.tools import FunctionTool
from llama_index.retrievers.bm25 import BM25Retriever

bm25_retriever = BM25Retriever.from_defaults(nodes=docs)

def get_guest_info_retriever(query: str) -> str:
    """Retrieves detailed information about gala guests based on their name or relation."""
    results = bm25_retriever.retrieve(query)
    if results:
        return "\n\n".join([doc.text for doc in results[:3]])
    else:
        return "No matching guest information found."

# Initialize the tool
guest_info_tool = FunctionTool.from_defaults(get_guest_info_retriever)
```

CÃ¹ng mÃ¬nh tÃ¬m hiá»ƒu cÃ´ng cá»¥ nÃ y tá»«ng bÆ°á»›c:
- Pháº§n docstring giÃºp agent hiá»ƒu khi nÃ o vÃ  cÃ¡ch sá»­ dá»¥ng cÃ´ng cá»¥ nÃ y
- CÃ¡c decorator kiá»ƒu dá»¯ liá»‡u xÃ¡c Ä‘á»‹nh tham sá»‘ mÃ  cÃ´ng cá»¥ mong Ä‘á»£i (trong trÆ°á»ng há»£p nÃ y lÃ  truy váº¥n tÃ¬m kiáº¿m)
- Ta Ä‘ang sá»­ dá»¥ng `BM25Retriever`, má»™t thuáº­t toÃ¡n truy xuáº¥t vÄƒn báº£n máº¡nh máº½ khÃ´ng yÃªu cáº§u embedding
- PhÆ°Æ¡ng thá»©c xá»­ lÃ½ truy váº¥n vÃ  tráº£ vá» thÃ´ng tin khÃ¡ch liÃªn quan nháº¥t

</hfoption>
<hfoption id="langgraph">

ChÃºng ta sáº½ sá»­ dá»¥ng `BM25Retriever` tá»« mÃ´-Ä‘un `langchain_community.retrievers` Ä‘á»ƒ táº¡o cÃ´ng cá»¥ truy xuáº¥t.

<Tip>
  <code>BM25Retriever</code> lÃ  Ä‘iá»ƒm khá»Ÿi Ä‘áº§u tuyá»‡t vá»i cho truy xuáº¥t, nhÆ°ng Ä‘á»ƒ tÃ¬m kiáº¿m ngá»¯ nghÄ©a nÃ¢ng cao hÆ¡n, báº¡n cÃ³ thá»ƒ cÃ¢n nháº¯c sá»­ dá»¥ng bá»™ truy xuáº¥t dá»±a trÃªn embedding nhÆ° tá»« <a href="https://www.sbert.net/">sentence-transformers</a>.
</Tip>

```python
from langchain_community.retrievers import BM25Retriever
from langchain.tools import Tool

bm25_retriever = BM25Retriever.from_documents(docs)

def extract_text(query: str) -> str:
    """Retrieves detailed information about gala guests based on their name or relation."""
    results = bm25_retriever.invoke(query)
    if results:
        return "\n\n".join([doc.page_content for doc in results[:3]])
    else:
        return "No matching guest information found."

guest_info_tool = Tool(
    name="guest_info_retriever",
    func=extract_text,
    description="Retrieves detailed information about gala guests based on their name or relation."
)
```

CÃ¹ng mÃ¬nh tÃ¬m hiá»ƒu cÃ´ng cá»¥ nÃ y tá»«ng bÆ°á»›c:
- `name` vÃ  `description` giÃºp agent hiá»ƒu khi nÃ o vÃ  cÃ¡ch sá»­ dá»¥ng cÃ´ng cá»¥ nÃ y
- CÃ¡c decorator kiá»ƒu dá»¯ liá»‡u xÃ¡c Ä‘á»‹nh tham sá»‘ mÃ  cÃ´ng cá»¥ mong Ä‘á»£i (trong trÆ°á»ng há»£p nÃ y lÃ  truy váº¥n tÃ¬m kiáº¿m)
- Ta Ä‘ang sá»­ dá»¥ng `BM25Retriever`, má»™t thuáº­t toÃ¡n truy xuáº¥t vÄƒn báº£n máº¡nh máº½ khÃ´ng yÃªu cáº§u embedding
- PhÆ°Æ¡ng thá»©c xá»­ lÃ½ truy váº¥n vÃ  tráº£ vá» thÃ´ng tin khÃ¡ch liÃªn quan nháº¥t

</hfoption>
</hfoptions>

### BÆ°á»›c 3: TÃ­ch há»£p CÃ´ng cá»¥ vá»›i Alfred

Cuá»‘i cÃ¹ng, hÃ£y káº¿t há»£p má»i thá»© báº±ng cÃ¡ch táº¡o agent cá»§a chÃºng ta vÃ  trang bá»‹ cho nÃ³ cÃ´ng cá»¥ tÃ¹y chá»‰nh:

<hfoptions id="agents-frameworks">
<hfoption id="smolagents">

```python
from smolagents import CodeAgent, InferenceClientModel

# Khá»Ÿi táº¡o model Hugging Face
model = InferenceClientModel()

# Táº¡o Alfred, agent tiá»‡c cá»§a chÃºng ta, vá»›i cÃ´ng cá»¥ thÃ´ng tin khÃ¡ch
alfred = CodeAgent(tools=[guest_info_tool], model=model)

# Truy váº¥n máº«u Alfred cÃ³ thá»ƒ nháº­n Ä‘Æ°á»£c trong buá»•i tiá»‡c
response = alfred.run("Tell me about our guest named 'Lady Ada Lovelace'.")

print("ğŸ© Alfred's Response:")
print(response)
```

Káº¿t quáº£ mong Ä‘á»£i:

```
ğŸ© Alfred's Response:
Based on the information I retrieved, Lady Ada Lovelace is an esteemed mathematician and friend. She is renowned for her pioneering work in mathematics and computing, often celebrated as the first computer programmer due to her work on Charles Babbage's Analytical Engine. Her email address is ada.lovelace@example.com.
```

Äiá»u gÃ¬ Ä‘ang diá»…n ra trong bÆ°á»›c cuá»‘i nÃ y:
- Ta khá»Ÿi táº¡o model Hugging Face báº±ng lá»›p `InferenceClientModel`
- Ta táº¡o agent (Alfred) dÆ°á»›i dáº¡ng `CodeAgent`, cÃ³ thá»ƒ thá»±c thi mÃ£ Python Ä‘á»ƒ giáº£i quyáº¿t váº¥n Ä‘á»
- Ta yÃªu cáº§u Alfred truy xuáº¥t thÃ´ng tin vá» vá»‹ khÃ¡ch tÃªn "Lady Ada Lovelace"

</hfoption>
<hfoption id="llama-index">

```python
from llama_index.core.agent.workflow import AgentWorkflow
from llama_index.llms.huggingface_api import HuggingFaceInferenceAPI

# Khá»Ÿi táº¡o model Hugging Face
llm = HuggingFaceInferenceAPI(model_name="Qwen/Qwen2.5-Coder-32B-Instruct")

# Táº¡o Alfred, agent tiá»‡c cá»§a chÃºng ta, vá»›i cÃ´ng cá»¥ thÃ´ng tin khÃ¡ch
alfred = AgentWorkflow.from_tools_or_functions(
    [guest_info_tool],
    llm=llm,
)

# Truy váº¥n máº«u Alfred cÃ³ thá»ƒ nháº­n Ä‘Æ°á»£c trong buá»•i tiá»‡c
response = await alfred.run("HÃ£y cho tÃ´i biáº¿t vá» vá»‹ khÃ¡ch tÃªn 'Lady Ada Lovelace'.")

print("ğŸ© Alfred's Response:")
print(response)
```

Káº¿t quáº£ mong Ä‘á»£i:

```
ğŸ© Alfred's Response:
Lady Ada Lovelace is an esteemed mathematician and friend, renowned for her pioneering work in mathematics and computing. She is celebrated as the first computer programmer due to her work on Charles Babbage's Analytical Engine. Her email is ada.lovelace@example.com.
```

Äiá»u gÃ¬ Ä‘ang diá»…n ra trong bÆ°á»›c cuá»‘i nÃ y:
- Ta khá»Ÿi táº¡o model Hugging Face báº±ng lá»›p `HuggingFaceInferenceAPI`
- Ta táº¡o agent (Alfred) dÆ°á»›i dáº¡ng `AgentWorkflow`, bao gá»“m cÃ´ng cá»¥ vá»«a táº¡o
- Ta yÃªu cáº§u Alfred truy xuáº¥t thÃ´ng tin vá» vá»‹ khÃ¡ch tÃªn "Lady Ada Lovelace"

</hfoption>
</hfoptions>

## VÃ­ dá»¥ vá» TÆ°Æ¡ng tÃ¡c

Trong buá»•i dáº¡ há»™i, má»™t cuá»™c trÃ² chuyá»‡n cÃ³ thá»ƒ diá»…n ra nhÆ° sau:

**Báº¡n:** "Alfred, ngÃ i Ä‘ang nÃ³i chuyá»‡n vá»›i Ä‘áº¡i sá»© lÃ  ai váº­y?"

**Alfred:** *nhanh chÃ³ng tÃ¬m kiáº¿m cÆ¡ sá»Ÿ dá»¯ liá»‡u khÃ¡ch má»i* "That's Dr. Nikola Tesla, sir. He's an old friend from your university days. He's recently patented a new wireless energy transmission system and would be delighted to discuss it with you. Just remember he's passionate about pigeons, so that might make for good small talk."


```json
{
    "name": "Dr. Nikola Tesla",
    "relation": "old friend from university days",  
    "description": "Dr. Nikola Tesla is an old friend from your university days. He's recently patented a new wireless energy transmission system and would be delighted to discuss it with you. Just remember he's passionate about pigeons, so that might make for good small talk.",
    "email": "nikola.tesla@gmail.com"
}
```

## Tiáº¿n Xa HÆ¡n Ná»¯a

Giá» Ä‘Ã¢y khi Alfred Ä‘Ã£ cÃ³ thá»ƒ truy xuáº¥t thÃ´ng tin khÃ¡ch má»i, hÃ£y cÃ¢n nháº¯c cÃ¡ch báº¡n cÃ³ thá»ƒ nÃ¢ng cáº¥p há»‡ thá»‘ng nÃ y:

1. **Cáº£i thiá»‡n retriever** Ä‘á»ƒ sá»­ dá»¥ng thuáº­t toÃ¡n tinh vi hÆ¡n nhÆ° [sentence-transformers](https://www.sbert.net/)
2. **Triá»ƒn khai bá»™ nhá»› há»™i thoáº¡i** Ä‘á»ƒ Alfred nhá»› cÃ¡c tÆ°Æ¡ng tÃ¡c trÆ°á»›c Ä‘Ã³
3. **Káº¿t há»£p vá»›i tÃ¬m kiáº¿m web** Ä‘á»ƒ láº¥y thÃ´ng tin má»›i nháº¥t vá» nhá»¯ng vá»‹ khÃ¡ch chÆ°a quen biáº¿t
4. **TÃ­ch há»£p nhiá»u chá»‰ má»¥c** Ä‘á»ƒ cÃ³ thÃ´ng tin Ä‘áº§y Ä‘á»§ hÆ¡n tá»« cÃ¡c nguá»“n Ä‘Ã£ xÃ¡c minh

Giá» Ä‘Ã¢y Alfred Ä‘Ã£ Ä‘Æ°á»£c trang bá»‹ Ä‘áº§y Ä‘á»§ Ä‘á»ƒ xá»­ lÃ½ cÃ¡c yÃªu cáº§u cá»§a khÃ¡ch má»™t cÃ¡ch dá»… dÃ ng, Ä‘áº£m báº£o buá»•i tiá»‡c cá»§a báº¡n sáº½ Ä‘Æ°á»£c nhá»› Ä‘áº¿n nhÆ° sá»± kiá»‡n tinh táº¿ vÃ  thÃº vá»‹ nháº¥t cá»§a tháº¿ ká»·!

<Tip>
HÃ£y thá»­ má»Ÿ rá»™ng cÃ´ng cá»¥ retriever Ä‘á»ƒ cÅ©ng tráº£ vá» cÃ¡c chá»§ Ä‘á» báº¯t Ä‘áº§u cuá»™c trÃ² chuyá»‡n dá»±a trÃªn sá»Ÿ thÃ­ch hoáº·c ná»n táº£ng cá»§a má»—i vá»‹ khÃ¡ch. Báº¡n sáº½ sá»­a Ä‘á»•i cÃ´ng cá»¥ nhÆ° tháº¿ nÃ o Ä‘á»ƒ Ä‘áº¡t Ä‘Æ°á»£c Ä‘iá»u nÃ y?

Khi hoÃ n thÃ nh, hÃ£y triá»ƒn khai cÃ´ng cá»¥ truy xuáº¥t khÃ¡ch má»i cá»§a báº¡n trong tá»‡p <code>retriever.py</code>.
</Tip>